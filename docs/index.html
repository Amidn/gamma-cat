<html>

<head>
    <!--<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha.2/css/bootstrap.css">-->
    <!--<link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap4.min.css">-->
    <link rel="stylesheet" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.css">
</head>

<body>
<h1>gamma-cat</h1>
<!--<div id="gammacat"></div>-->
<table id="gammacat">
    <thead>
    <th>source_id</th>
    <th>tevcat_id</th>
    <th>tevcat2_id</th>
    <th>tevcat_name</th>
    <th>tgevcat_id</th>
    <th>tgevcat_name</th>
    <th>papers</th>
    </thead>
</table>

<script src="https://code.jquery.com/jquery-3.1.0.min.js"
        integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s=" crossorigin="anonymous"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script>
<script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.js"></script>
<script>
    // TODO: use row detail for papers.
    // See https://datatables.net/examples/api/row_details.html


    $(document).ready(function () {
        $('#gammacat').DataTable({
            ajax: "gammacat.json",
            columns: [
                {data: "source_id"},
                {
                    data: "tevcat_id",
                    render: function(val) {
                        console.log(val);
                        var s = "<a href=\"http://tevcat.uchicago.edu/?mode=1&showsrc=" + val + "\">" + val + "</a>";
                        console.log(s);
                        return s;
                    }
                },
                {data: "tevcat2_id"},
                {data: "tevcat_name"},
                {data: "tgevcat_id"},
                {data: "tgevcat_name"},
                {
                    data: "papers",
                    render: function (val) {
                        return val.substr(0, 20);
                    }
                }
            ]
        });
    });
</script>
</body>

</html>
